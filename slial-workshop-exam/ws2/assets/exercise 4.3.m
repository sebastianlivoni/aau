% Example 1 p

p1=[
  [0,0,0,1/4,0,1/2,1/3],
  [0,0,0,1/4,0,0,0,],
  [0,1/2,0,0,1,0,0],
  [1,1/2,0,0,0,1/2,1/3],
  [0,0,1,0,0,0,1/3],
  [0,0,0,1/4,0,0,0],
  [0,0,0,1/4,0,0,0]
]

p2=[
  [1/7,1/7,1/7,1/7,1/7,1/7,1/7],
  [1/7,1/7,1/7,1/7,1/7,1/7,1/7],
  [1/7,1/7,1/7,1/7,1/7,1/7,1/7],
  [1/7,1/7,1/7,1/7,1/7,1/7,1/7],
  [1/7,1/7,1/7,1/7,1/7,1/7,1/7],
  [1/7,1/7,1/7,1/7,1/7,1/7,1/7],
  [1/7,1/7,1/7,1/7,1/7,1/7,1/7]
]

alpha = 0.85

new_p = (alpha * p1 + (1 - alpha) * p2) - eye(7)

new_p(1,8) = 0

p_reduced = rref(new_p)

% Example 2 p
p1=[
  [0,0,0,1/3,0,1/2,1/2],
  [0,0,0,1/3,0,0,0,],
  [0,0,0,0,1,0,0],
  [1,1,0,0,0,1/2,0],
  [0,0,1,0,0,0,1/2],
  [0,0,0,1/3,0,0,0],
  [0,0,0,0,0,0,0]
]

alpha = 0.85

new_p = (alpha * p1 + (1 - alpha) * p2) - eye(7)

new_p(1,8) = 0

p_reduced = rref(new_p)